{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';const initialState={cart_id:'CART123',user_id:1,items:[],subtotal_xaf:0,discount_xaf:0,shipping_xaf:0,tax_xaf:0,total_xaf:0,status:'active'};const cartsSlice=createSlice({name:'carts',initialState,reducers:{addItem:(state,action)=>{const existingItem=state.items.find(item=>item.product_id===action.payload.product_id);if(existingItem){existingItem.quantity+=action.payload.quantity;existingItem.total_price_xaf+=action.payload.total_price_xaf;}else{state.items.push(action.payload);}state.subtotal_xaf+=action.payload.total_price_xaf;state.total_xaf=state.subtotal_xaf-state.discount_xaf+state.shipping_xaf+state.tax_xaf;},removeItem:(state,action)=>{const itemIndex=state.items.findIndex(item=>item.product_id===action.payload);if(itemIndex!==-1){state.subtotal_xaf-=state.items[itemIndex].total_price_xaf;state.items.splice(itemIndex,1);state.total_xaf=state.subtotal_xaf-state.discount_xaf+state.shipping_xaf+state.tax_xaf;}},updateQuantity:(state,action)=>{const existingItem=state.items.find(item=>item.product_id===action.payload.product_id);if(existingItem){const priceDifference=(action.payload.quantity-existingItem.quantity)*existingItem.unit_price_xaf;existingItem.quantity=action.payload.quantity;existingItem.total_price_xaf=action.payload.quantity*existingItem.unit_price_xaf;state.subtotal_xaf+=priceDifference;state.total_xaf=state.subtotal_xaf-state.discount_xaf+state.shipping_xaf+state.tax_xaf;}},setDiscount:(state,action)=>{state.discount_xaf=action.payload;state.total_xaf=state.subtotal_xaf-state.discount_xaf+state.shipping_xaf+state.tax_xaf;},setShipping:(state,action)=>{state.shipping_xaf=action.payload;state.total_xaf=state.subtotal_xaf-state.discount_xaf+state.shipping_xaf+state.tax_xaf;},setTax:(state,action)=>{state.tax_xaf=action.payload;state.total_xaf=state.subtotal_xaf-state.discount_xaf+state.shipping_xaf+state.tax_xaf;}}});export const{addItem,removeItem,updateQuantity,setDiscount,setShipping,setTax}=cartsSlice.actions;export default cartsSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","cart_id","user_id","items","subtotal_xaf","discount_xaf","shipping_xaf","tax_xaf","total_xaf","status","cartsSlice","name","reducers","addItem","state","action","existingItem","find","item","product_id","payload","quantity","total_price_xaf","push","removeItem","itemIndex","findIndex","splice","updateQuantity","priceDifference","unit_price_xaf","setDiscount","setShipping","setTax","actions","reducer"],"sources":["C:/Users/balga/OneDrive/Desktop/E-Commerce app/ecommerce-app/src/features/carts/cartsSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ninterface CartItem {\n  product_id: number;\n  quantity: number;\n  unit_price_xaf: number;\n  total_price_xaf: number;\n  name: string;\n}\n\ninterface CartState {\n  cart_id: string;\n  user_id: number;\n  items: CartItem[];\n  subtotal_xaf: number;\n  discount_xaf: number;\n  shipping_xaf: number;\n  tax_xaf: number;\n  total_xaf: number;\n  status: string;\n}\n\nconst initialState: CartState = {\n  cart_id: 'CART123',\n  user_id: 1,\n  items: [],\n  subtotal_xaf: 0,\n  discount_xaf: 0,\n  shipping_xaf: 0,\n  tax_xaf: 0,\n  total_xaf: 0,\n  status: 'active',\n};\n\nconst cartsSlice = createSlice({\n  name: 'carts',\n  initialState,\n  reducers: {\n    addItem: (state, action: PayloadAction<CartItem>) => {\n      const existingItem = state.items.find(item => item.product_id === action.payload.product_id);\n      if (existingItem) {\n        existingItem.quantity += action.payload.quantity;\n        existingItem.total_price_xaf += action.payload.total_price_xaf;\n      } else {\n        state.items.push(action.payload);\n      }\n      state.subtotal_xaf += action.payload.total_price_xaf;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n    removeItem: (state, action: PayloadAction<number>) => {\n      const itemIndex = state.items.findIndex(item => item.product_id === action.payload);\n      if (itemIndex !== -1) {\n        state.subtotal_xaf -= state.items[itemIndex].total_price_xaf;\n        state.items.splice(itemIndex, 1);\n        state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n      }\n    },\n    updateQuantity: (state, action: PayloadAction<{ product_id: number; quantity: number }>) => {\n      const existingItem = state.items.find(item => item.product_id === action.payload.product_id);\n      if (existingItem) {\n        const priceDifference = (action.payload.quantity - existingItem.quantity) * existingItem.unit_price_xaf;\n        existingItem.quantity = action.payload.quantity;\n        existingItem.total_price_xaf = action.payload.quantity * existingItem.unit_price_xaf;\n        state.subtotal_xaf += priceDifference;\n        state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n      }\n    },\n    setDiscount: (state, action: PayloadAction<number>) => {\n      state.discount_xaf = action.payload;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n    setShipping: (state, action: PayloadAction<number>) => {\n      state.shipping_xaf = action.payload;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n    setTax: (state, action: PayloadAction<number>) => {\n      state.tax_xaf = action.payload;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n  },\n});\n\nexport const { addItem, removeItem, updateQuantity, setDiscount, setShipping, setTax } = cartsSlice.actions;\n\nexport default cartsSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}