{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  cart_id: 'CART123',\n  user_id: 1,\n  items: [],\n  subtotal_xaf: 0,\n  discount_xaf: 0,\n  shipping_xaf: 0,\n  tax_xaf: 0,\n  total_xaf: 0,\n  status: 'active'\n};\nconst cartsSlice = createSlice({\n  name: 'carts',\n  initialState,\n  reducers: {\n    addItem: (state, action) => {\n      const existingItem = state.items.find(item => item.product_id === action.payload.product_id);\n      if (existingItem) {\n        existingItem.quantity += action.payload.quantity;\n        existingItem.total_price_xaf += action.payload.total_price_xaf;\n      } else {\n        state.items.push(action.payload);\n      }\n      state.subtotal_xaf += action.payload.total_price_xaf;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n    removeItem: (state, action) => {\n      const itemIndex = state.items.findIndex(item => item.product_id === action.payload);\n      if (itemIndex !== -1) {\n        state.subtotal_xaf -= state.items[itemIndex].total_price_xaf;\n        state.items.splice(itemIndex, 1);\n        state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n      }\n    },\n    updateQuantity: (state, action) => {\n      const existingItem = state.items.find(item => item.product_id === action.payload.product_id);\n      if (existingItem) {\n        const priceDifference = (action.payload.quantity - existingItem.quantity) * existingItem.unit_price_xaf;\n        existingItem.quantity = action.payload.quantity;\n        existingItem.total_price_xaf = action.payload.quantity * existingItem.unit_price_xaf;\n        state.subtotal_xaf += priceDifference;\n        state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n      }\n    },\n    setDiscount: (state, action) => {\n      state.discount_xaf = action.payload;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n    setShipping: (state, action) => {\n      state.shipping_xaf = action.payload;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n    setTax: (state, action) => {\n      state.tax_xaf = action.payload;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    }\n  }\n});\nexport const {\n  addItem,\n  removeItem,\n  updateQuantity,\n  setDiscount,\n  setShipping,\n  setTax\n} = cartsSlice.actions;\nexport default cartsSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","cart_id","user_id","items","subtotal_xaf","discount_xaf","shipping_xaf","tax_xaf","total_xaf","status","cartsSlice","name","reducers","addItem","state","action","existingItem","find","item","product_id","payload","quantity","total_price_xaf","push","removeItem","itemIndex","findIndex","splice","updateQuantity","priceDifference","unit_price_xaf","setDiscount","setShipping","setTax","actions","reducer"],"sources":["C:/Users/balga/OneDrive/Desktop/E-Commerce app/ecommerce-app/src/features/carts/cartsSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ninterface CartItem {\n  product_id: number;\n  quantity: number;\n  unit_price_xaf: number;\n  total_price_xaf: number;\n}\n\ninterface CartState {\n  cart_id: string;\n  user_id: number;\n  items: CartItem[];\n  subtotal_xaf: number;\n  discount_xaf: number;\n  shipping_xaf: number;\n  tax_xaf: number;\n  total_xaf: number;\n  status: string;\n}\n\nconst initialState: CartState = {\n  cart_id: 'CART123',\n  user_id: 1,\n  items: [],\n  subtotal_xaf: 0,\n  discount_xaf: 0,\n  shipping_xaf: 0,\n  tax_xaf: 0,\n  total_xaf: 0,\n  status: 'active',\n};\n\nconst cartsSlice = createSlice({\n  name: 'carts',\n  initialState,\n  reducers: {\n    addItem: (state, action: PayloadAction<CartItem>) => {\n      const existingItem = state.items.find(item => item.product_id === action.payload.product_id);\n      if (existingItem) {\n        existingItem.quantity += action.payload.quantity;\n        existingItem.total_price_xaf += action.payload.total_price_xaf;\n      } else {\n        state.items.push(action.payload);\n      }\n      state.subtotal_xaf += action.payload.total_price_xaf;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n    removeItem: (state, action: PayloadAction<number>) => {\n      const itemIndex = state.items.findIndex(item => item.product_id === action.payload);\n      if (itemIndex !== -1) {\n        state.subtotal_xaf -= state.items[itemIndex].total_price_xaf;\n        state.items.splice(itemIndex, 1);\n        state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n      }\n    },\n    updateQuantity: (state, action: PayloadAction<{ product_id: number; quantity: number }>) => {\n      const existingItem = state.items.find(item => item.product_id === action.payload.product_id);\n      if (existingItem) {\n        const priceDifference = (action.payload.quantity - existingItem.quantity) * existingItem.unit_price_xaf;\n        existingItem.quantity = action.payload.quantity;\n        existingItem.total_price_xaf = action.payload.quantity * existingItem.unit_price_xaf;\n        state.subtotal_xaf += priceDifference;\n        state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n      }\n    },\n    setDiscount: (state, action: PayloadAction<number>) => {\n      state.discount_xaf = action.payload;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n    setShipping: (state, action: PayloadAction<number>) => {\n      state.shipping_xaf = action.payload;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n    setTax: (state, action: PayloadAction<number>) => {\n      state.tax_xaf = action.payload;\n      state.total_xaf = state.subtotal_xaf - state.discount_xaf + state.shipping_xaf + state.tax_xaf;\n    },\n  },\n});\n\nexport const { addItem, removeItem, updateQuantity, setDiscount, setShipping, setTax } = cartsSlice.actions;\n\nexport default cartsSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}